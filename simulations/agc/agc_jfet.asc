Version 4
SHEET 1 1464 940
WIRE -416 -384 -576 -384
WIRE -576 -272 -576 -304
WIRE 224 -176 224 -192
WIRE -800 -160 -800 -192
WIRE -208 -160 -576 -160
WIRE -64 -160 -128 -160
WIRE 192 -160 -64 -160
WIRE 336 -144 256 -144
WIRE 368 -144 336 -144
WIRE -64 -128 -64 -160
WIRE 192 -128 64 -128
WIRE 224 -96 224 -112
WIRE -576 -80 -576 -160
WIRE -800 -64 -800 -80
WIRE -800 -64 -880 -64
WIRE -800 -48 -800 -64
WIRE -880 -16 -880 -64
WIRE -576 32 -576 0
WIRE 64 32 64 -128
WIRE 128 32 64 32
WIRE 336 32 336 -144
WIRE 336 32 208 32
WIRE -800 64 -800 32
WIRE 464 64 448 64
WIRE 752 64 544 64
WIRE 64 192 64 32
WIRE 336 208 336 32
WIRE 352 208 336 208
WIRE 448 208 448 64
WIRE 448 208 432 208
WIRE 464 208 448 208
WIRE 656 224 528 224
WIRE 752 224 752 64
WIRE 752 224 720 224
WIRE 848 224 752 224
WIRE 960 224 848 224
WIRE 464 240 432 240
WIRE 432 272 432 240
WIRE 848 272 848 224
WIRE 848 384 848 336
WIRE 64 496 64 272
WIRE 176 560 112 560
WIRE 960 560 960 224
WIRE 960 560 176 560
WIRE -816 592 -816 496
WIRE 176 640 176 560
WIRE -608 656 -768 656
WIRE -816 720 -816 688
WIRE 64 752 64 592
WIRE 176 752 176 720
WIRE 176 752 64 752
WIRE -608 768 -608 736
WIRE 64 816 64 752
FLAG -880 -16 0
FLAG -800 -192 Vdd
FLAG 224 -96 Vdd
FLAG 224 -192 Vss
FLAG -800 64 Vss
FLAG -576 32 0
FLAG 368 -144 out
FLAG -576 -160 in
FLAG -816 720 0
FLAG -816 496 Vdd
FLAG -608 768 0
FLAG 496 256 Vss
FLAG 496 192 Vdd
FLAG 848 384 Vss
FLAG 64 816 0
FLAG -64 -48 0
FLAG 432 272 0
FLAG -576 -272 0
SYMBOL voltage -800 -176 R0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL voltage -800 -64 R0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL res 224 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL njf -768 592 M0
SYMATTR InstName J1
SYMATTR Value BF245B
SYMBOL voltage -608 640 R0
SYMATTR InstName V4
SYMATTR Value 0
SYMBOL Opamps\\opamp2 224 -80 M180
SYMATTR InstName U1
SYMATTR Value LM324
SYMBOL Opamps\\opamp2 496 160 R0
SYMATTR InstName U3
SYMATTR Value LM324
SYMBOL diode 720 208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL cap 832 272 R0
SYMATTR InstName C1
SYMATTR Value 22µ
SYMBOL njf 112 496 M0
SYMATTR InstName J2
SYMATTR Value BF245B
SYMBOL res 48 176 R0
SYMATTR InstName R2
SYMATTR Value 470R
SYMBOL res 160 624 R0
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res -112 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res -48 -32 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL bv -576 -96 R0
SYMATTR InstName B1
SYMATTR Value V=sinc(mod(time,pi/4.7)*100-8*pi)
SYMBOL res 448 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 200k
SYMBOL res 560 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 470k
SYMBOL voltage -576 -400 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value SINE(0 200m 1.5)
TEXT -872 232 Left 2 !;dc V3 50m 1000m 10m
TEXT -872 192 Left 2 !.lib opamp.lib
TEXT -872 272 Left 2 !.lib BF245.lib
TEXT -872 304 Left 2 !.tran 3
TEXT -872 336 Left 2 !.function sinc(x) { 2*A*sin(x)/x }
TEXT -872 376 Left 2 !.function mod(x,y) { (x/y)-int(x/y) }
TEXT -864 160 Left 2 !.param A=50m
