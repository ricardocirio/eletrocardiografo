Version 4
SHEET 1 2408 940
WIRE 624 -336 512 -336
WIRE 800 -336 704 -336
WIRE 656 -176 656 -192
WIRE -800 -160 -800 -192
WIRE 32 -160 -528 -160
WIRE 192 -160 112 -160
WIRE 320 -160 192 -160
WIRE 384 -160 320 -160
WIRE 512 -160 512 -336
WIRE 512 -160 464 -160
WIRE 624 -160 512 -160
WIRE 800 -144 800 -336
WIRE 800 -144 688 -144
WIRE 832 -144 800 -144
WIRE 192 -128 192 -160
WIRE 624 -128 592 -128
WIRE 656 -96 656 -112
WIRE -528 -80 -528 -160
WIRE 592 -80 592 -128
WIRE -800 -64 -800 -80
WIRE -800 -64 -880 -64
WIRE -800 -48 -800 -64
WIRE -880 -16 -880 -64
WIRE 192 -16 192 -48
WIRE -528 32 -528 0
WIRE 320 48 320 -160
WIRE 368 48 320 48
WIRE 512 48 512 -160
WIRE 512 48 464 48
WIRE -800 64 -800 32
WIRE 800 96 800 -144
WIRE 832 96 800 96
WIRE 1008 112 896 112
WIRE 1136 112 1072 112
WIRE 1216 112 1136 112
WIRE 1344 112 1216 112
WIRE 832 128 800 128
WIRE 1216 160 1216 112
WIRE 800 256 800 128
WIRE 928 256 800 256
WIRE 1136 256 1136 112
WIRE 1136 256 1008 256
WIRE 800 272 800 256
WIRE 1216 272 1216 224
WIRE 800 384 800 352
WIRE 432 480 432 96
WIRE 1344 480 1344 112
WIRE 1344 480 432 480
WIRE -816 592 -816 496
WIRE -608 656 -768 656
WIRE -816 720 -816 688
WIRE -608 768 -608 736
FLAG -880 -16 0
FLAG -800 -192 Vdd
FLAG 656 -192 Vdd
FLAG 656 -96 Vss
FLAG -800 64 Vss
FLAG -528 32 0
FLAG 832 -144 out
FLAG -528 -160 in
FLAG -816 720 0
FLAG -816 496 Vdd
FLAG -608 768 0
FLAG 864 80 Vss
FLAG 864 144 Vdd
FLAG 1216 272 Vss
FLAG -528 -272 0
FLAG 192 -16 0
FLAG 592 -80 0
FLAG 800 384 0
SYMBOL voltage -800 -176 R0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL voltage -800 -64 R0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL res 480 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL njf -768 592 M0
SYMATTR InstName J1
SYMATTR Value BF245B
SYMBOL voltage -608 640 R0
SYMATTR InstName V4
SYMATTR Value 0
SYMBOL Opamps\\opamp2 656 -208 R0
SYMATTR InstName U1
SYMATTR Value LM324
SYMBOL Opamps\\opamp2 864 176 M180
SYMATTR InstName U3
SYMATTR Value LM324
SYMBOL diode 1072 96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL cap 1200 160 R0
SYMATTR InstName C1
SYMATTR Value 22µ
SYMBOL njf 368 96 R270
SYMATTR InstName J2
SYMATTR Value BF245B
SYMBOL res 720 -352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 2k
SYMBOL bv -528 -96 R0
SYMATTR InstName B1
SYMATTR Value V=sinc(mod(time,pi/4.7)*100-8*pi)
SYMBOL voltage -528 -368 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value SINE(0 1 1.5)
SYMBOL res 128 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 208 -32 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 784 256 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 1024 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
TEXT -872 232 Left 2 !;dc V4 -0.5 -1.95 1m
TEXT -872 192 Left 2 !.lib opamp.lib
TEXT -872 272 Left 2 !.lib BF245.lib
TEXT -872 304 Left 2 !.tran 5
TEXT -872 344 Left 2 !.function sinc(x) { 2*A*sin(x)/x }
TEXT -872 384 Left 2 !.function mod(x,y) { (x/y)-int(x/y) }
TEXT -864 152 Left 2 !.param A=500m
